<% userIsInstructor = function () {
    if (user) {
        if (user.accountType == 'instructor') {
            return true
        }
        return false
    }
    return false
} %>
<% courses = function () {
    if (course === undefined || course.length == 0) {
        return false
    }
    else {
        return true
    }
} %>
<% userIsInstructorOrAdmin = function () {
    if (user) {
        if (user.accountType == 'instructor') {
            for (var i = 0; i < course.instructors.length; i++) {
                if (course.instructors[i].email == user.email) {
                    return true
                }
            }
            return false
        }
        console.log("\nFalse1")
        return false
    }
    console.log("\nFalse2")
    return false
} %>
<% userIsInCourse = function () {
    if (user) {
        if (user.accountType == 'instructor') {
            for (var i = 0; i < course.instructors.length; i++) {
                console.log(course.instructors[i].email)
                console.log(user.email)
                if (course.instructors[i].email == user.email) {
                    return true
                }
            }
            return false
        }
        else if (user.accountType == 'student' && course.students.indexOf(user.studentID) >= 0) {
            return true
        }
        else {
            return false
        }
    }
    return false
} %>
<% currentPathName = function () {
    console.log(window.location.pathname)
} %>
<% userIsCourseOwner = function () {
    if (user) {
        if (user.accountType == 'instructor' && course.ownerId == user._id) {
            return true
        }
        return false
    }
    return false
} %>
<% getCourses = function () {
    console.log(course[0].lectures[0])
} %>
<% findStudentName = function (id) {
    console.log(id)
    for (var i = 0; i < users.length; i++) {
        if (users[i].accountType == 'student') {
            if (users[i].studentID == id) {
                return users[i].firstName + " " + users[i].lastName
            }
        }
    }
    return " "
} %>

<% checkActiveLectures = function (courses) {
    for (var i = 0; i < courses.length; i++) {
        if(courses[i].lectures.length > 0){
            for (var j = 0; j < courses[i].lectures.length; j++) {
                if(courses[i].lectures[j].active){
                    return true
                }
            }
        }
    }
    return false
}%>

<!-- TODO: implement the functions below-->
<% groupModeIsActive = function () {
    //if (course
    return true;
}%>

<% numberOfEnrolledStudents = function () {
    //NOT SURE WHAT I'M DOING AM TRYING TO FIGURE OUT IF THIS WORKS
    console.log("numberOfEnrolledStudents")
    //if (course && course.students) return course.students.length;
    return "2";
}%>

<% numberOfOnlineStudents = function () {
    return 0;
}%>

<% activeDisplayQuestion = function () {
    return "test";
}%>

<% getGroupSize = function () {
    return 4;
}%>

<% disableGroupSizeRange = function () {
    return 'disabled';
}%>

<% getNumberOnlineStudents = function () {
    var count = 0
    for (var i = 0; i < users.length; i++) {
        if (users.accountType == 'student' && users.online && course.students.indexOf(users.studentID) >= 0) {
            count += 1
        }
    }
    return count
} %>

<%toggleGroupSettings = function (visibleClass) {
    $('.group-settings').addClass(visibleClass)
}%>
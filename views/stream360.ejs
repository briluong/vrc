<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>

    <!-- Use components defined in separate files. -->
    <script src="/js/stream360.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body>
<!-- As if this Glitch were a typical HTML CodePen... -->
<!-- Specify our scene. -->
<a-scene>
    <!-- The original example also has this 180 degree rotation, to appear to be going forward. -->
    <a-videosphere rotation="0 180 0" src="#video"
                   play-on-vrdisplayactivate-or-enter-vr>
    </a-videosphere>

    <!-- Define camera with zero user height, movement disabled and arrow key rotation added. -->
    <a-camera user-height="0" wasd-controls-enabled="false" arrow-key-rotation>
    </a-camera>

    <!-- Wait for the video to load. -->
    <a-assets>
        <!-- Single source video. -->
        <video id="video" style="display:none"
               autoplay loop crossorigin="anonymous" playsinline webkit-playsinline>
        </video>
    </a-assets>
</a-scene>
</body>
<script>
    var video = document.getElementById('video');
    if(Hls.isSupported()) {
        var hls = new Hls();
        hls.loadSource('http://18.211.18.191/live/test/index.m3u8');
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED,function() {
            video.play();
        });
    }</script>
</html>